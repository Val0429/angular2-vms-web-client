
<div class="animated fadeIn">
  <app-visitor-statistic></app-visitor-statistic>

  <div class="row">
    <div class="col text-right mb-1">
      <button type="button" class="btn btn-primary" (click)="changeDuration('day');">{{'dashboardPage.today' | translate}}</button>
      <button type="button" class="btn btn-primary" (click)="changeDuration('week');">{{'dashboardPage.thisWeek' | translate}}</button>
      <button type="button" class="btn btn-primary" (click)="changeDuration('month');">{{'dashboardPage.thisMonth' | translate}} </button>
    </div>
  </div>
  <div class="card">
    <div class="card-block">
      <table datatable class="table table-striped table-hover" [mfData]="data" #mf="mfDataTable" [mfRowsOnPage]="10">
        <thead>
          <tr>
            <th style="width: 5%">No</th>
            <th style="width: 25%">
              {{'dashboardPage.visitorName' | translate}}
            </th>
            <th style="width: 25%">
              {{'dashboardPage.purpose' | translate}}
            </th>
            <th style="width: 10%">
              {{'dashboardPage.kioskName' | translate}}
            </th>
            <th style="width: 10%">
              {{'dashboardPage.eventTime' | translate}}
            </th>
            <th style="width: 15%">
              {{'dashboardPage.status' | translate}}
            </th>

            <th style=""></th>
            <th style=""></th>
          </tr>
        </thead>
        <tbody>

          <tr *ngFor="let item of mf.data; let i = index">
            <td>{{(i+(mf.activePage -1)*mf.rowsOnPage)+1}}</td>

            <td>{{item.visitorName}}</td>
            <td>
              {{item.purpose}}
            </td>
            <td>
              {{item.kioskName}}
            </td>
            <td>
              {{item.eventTime}}
            </td>
            <td>
              {{item.status}}
            </td>

            <td>
              <a class="fa fa-pencil fa-lg" (click)="$event.stopPropagation();editUser(item);"></a>
            </td>
            <td>
              <a class="fa fa-remove fa-lg" (click)="$event.stopPropagation();deleteUser(item)"></a>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="4">
              <mfBootstrapPaginator [rowsOnPageSet]="[5,10,15,20]"></mfBootstrapPaginator>
            </td>
          </tr>
        </tfoot>
      </table>


    </div>
  </div>
  <div class="card-columns cols-2">
    <div class="card">
      <div class="card-header">
        {{'dashboardPage.checkInStatistic' | translate}}
      </div>
      <div class="card-block">

        <canvas baseChart #timeBarChart="base-chart" class="chart"
                [datasets]="timeBarChartData"
                [labels]="timeBarChartLabels"
                [colors]="timeBarChartColors"
                [options]="barChartOptions"
                [legend]="barChartLegend"
                [chartType]="barChartTypeV"
                (chartHover)="chartHovered($event)"
                (chartClick)="chartClicked($event)"></canvas>

      </div>
    </div>
    <div class="card">
      <div class="card-header">
        {{'dashboardPage.recurringVisitor' | translate}}
      </div>
      <div class="card-block">

        <canvas baseChart #entryBarChart="base-chart" class="chart"
                [datasets]="entryBarChartData"
                [labels]="entryBarChartLabels"
                [options]="barChartOptions"
                [colors]="entryBarChartColors"
                [legend]="barChartLegend"
                [chartType]="barChartTypeH"
                (chartHover)="chartHovered($event)"
                (chartClick)="chartClicked($event)"></canvas>

      </div>
    </div>

  </div>
</div>
